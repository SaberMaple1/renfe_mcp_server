# Renfe MCP Server - Security Configuration
# ==========================================
# Copy this file to .env and configure with your values
# NEVER commit .env to version control!

# ============================================================================
# Authentication
# ============================================================================

# Enable/disable authentication (set to 'false' only for local development)
RENFE_ENABLE_AUTH=true

# API Key - Generate using: python security.py generate-key
# Keep this secret! Use either RENFE_API_KEY or RENFE_API_KEY_HASH, not both
RENFE_API_KEY=your-secret-api-key-here

# Alternative: Use pre-hashed API key (more secure for production)
# RENFE_API_KEY_HASH=your-api-key-hash-here

# ============================================================================
# Rate Limiting
# ============================================================================

# Enable/disable rate limiting
RENFE_RATE_LIMIT_ENABLED=true

# Regular requests (search_trains, find_station)
RENFE_MAX_REQUESTS_PER_MINUTE=30
RENFE_MAX_REQUESTS_PER_HOUR=200

# Price scraping requests (get_train_prices) - more restrictive
RENFE_MAX_PRICE_REQUESTS_PER_MINUTE=5
RENFE_MAX_PRICE_REQUESTS_PER_HOUR=30

# ============================================================================
# Security Logging
# ============================================================================

# Enable security event logging
RENFE_LOG_SECURITY_EVENTS=true

# Log sensitive data (origin/destination cities, etc.)
# Set to 'false' for privacy-compliant deployments
RENFE_LOG_SENSITIVE_DATA=false

# ============================================================================
# Session Management
# ============================================================================

# Session timeout in seconds (default: 1 hour)
RENFE_SESSION_TIMEOUT=3600

# ============================================================================
# Development Mode
# ============================================================================

# Enable development mode (NEVER use in production!)
# - Disables some security checks
# - Allows testing without API key
# - Relaxed rate limits
RENFE_DEV_MODE=false

# ============================================================================
# Usage Examples
# ============================================================================

# For local development:
# RENFE_ENABLE_AUTH=false
# RENFE_RATE_LIMIT_ENABLED=false
# RENFE_DEV_MODE=true

# For production:
# RENFE_ENABLE_AUTH=true
# RENFE_RATE_LIMIT_ENABLED=true
# RENFE_DEV_MODE=false
# RENFE_API_KEY=<generated-secure-key>
